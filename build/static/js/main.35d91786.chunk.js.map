{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","pages/login/Login.jsx","hooks/useLogin.js","pages/signup/Signup.jsx","hooks/useSignup.js","hooks/useCollection.js","components/Avatar.jsx","components/ProjectList.jsx","pages/dashboard/ProjectFilter.jsx","pages/dashboard/Dashboard.jsx","hooks/useFirestore.js","pages/project/ProjectSummary.jsx","pages/project/ProjectComments.jsx","pages/project/Project.jsx","hooks/useDocument.js","assets/temple.svg","components/Navbar.jsx","hooks/useLogout.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.jsx","pages/create/Create.jsx","components/OnlineUsers.jsx","App.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","_ref","children","dispatch","useReducer","useEffect","unsub","onAuthStateChanged","console","log","_jsx","Provider","value","useAuthContext","context","useContext","Error","Login","email","setEmail","useState","password","setPassword","error","isPending","login","useLogin","isCancelled","setIsCancelled","setError","setIsPending","async","res","signInWithEmailAndPassword","collection","doc","uid","update","online","err","message","JSON","parse","_jsxs","className","onSubmit","e","preventDefault","required","onChange","target","disabled","Signup","displayName","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","useSignup","createUserWithEmailAndPassword","uploadPath","name","img","ref","put","imgURL","getDownloadURL","updateProfile","photoURL","set","selected","files","includes","size","useCollection","_query","_orderBy","documents","setDocuments","query","useRef","current","orderBy","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","push","data","id","Avatar","src","alt","ProjectList","projects","length","map","project","Link","to","dueDate","toDate","toDateString","assignedUsersList","filterList","ProjectFilter","currentFilter","changeFilter","filter","onClick","Dashboard","setCurrentFilter","_doc$assignedUsersLis","assignedToMe","u","category","initialState","document","success","firestoreReducer","useFirestore","response","dispatchIfNotCancelled","addDocument","createdAt","fromDate","Date","addedDocument","add","deleteDocument","delete","updateDocument","updates","updatedDocument","ProjectSummary","_project$assignedUser","history","useHistory","details","createdBy","ProjectComments","_project$comments","newComment","setNewComment","comments","comment","formatDistanceToNow","addSuffix","content","commentToAdd","Math","random","Project","useParams","useDocument","setDocument","Navbar","logout","useLogout","signOut","Temple","_Fragment","Sidebar","NavLink","DashboardIcon","AddIcon","categories","label","Create","errors","setName","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","users","setUsers","formError","setFormError","options","Select","option","isMulti","OnlineUsers","App","BrowserRouter","Switch","Route","exact","path","Redirect","ReactDOM","render","React","StrictMode","getElementById"],"mappings":"ocAcAA,IAASC,cATc,CACrBC,OAAQ,0CACRC,WAAY,6BACZC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8CAKT,MAAMC,EAAmBR,IAASS,YAC5BC,EAAcV,IAASW,OACvBC,EAAiBZ,IAASa,UAE1BC,EAAYd,IAASS,UAAUM,U,WCjB9B,MAAMC,EAAcC,0BAEdC,EAAcA,CAACC,EAAOC,KACjC,OAAQA,EAAOC,MACb,IAAK,QACH,MAAO,IAAKF,EAAOG,KAAMF,EAAOG,SAClC,IAAK,SACH,MAAO,IAAKJ,EAAOG,KAAM,MAC3B,IAAK,gBACH,MAAO,CAAEA,KAAMF,EAAOG,QAASC,aAAa,GAC9C,QACE,OAAOL,IAIAM,EAAsBC,IAAmB,IAAlB,SAAEC,GAAUD,EAC9C,MAAOP,EAAOS,GAAYC,qBAAWX,EAAa,CAChDI,KAAM,KACNE,aAAa,IAYf,OATAM,qBAAU,KACR,MAAMC,EAAQrB,EAAYsB,oBAAmBV,IAC3CM,EAAS,CAAEP,KAAM,gBAAiBE,QAASD,IAC3CS,SAED,IAEHE,QAAQC,IAAI,qBAAsBf,GAGhCgB,cAACnB,EAAYoB,SAAQ,CAACC,MAAO,IAAKlB,EAAOS,YAAWD,SAChDA,KChCKW,EAAiBA,KAC5B,MAAMC,EAAUC,qBAAWxB,GAE3B,IAAIuB,EACF,MAAME,MAAM,6DAGd,OAAOF,G,MCuCMG,MA3CDA,KACZ,MAAOC,EAAOC,GAAYC,mBAAS,KAC5BC,EAAUC,GAAeF,mBAAS,KAEnC,MAAEG,EAAK,UAAEC,EAAS,MAAEC,GCNJC,MACtB,MAAOC,EAAaC,GAAkBR,oBAAS,IACxCG,EAAOM,GAAYT,mBAAS,OAC5BI,EAAWM,GAAgBV,oBAAS,IAErC,SAAEjB,GAAaU,IAmCrB,OAJAR,qBAAU,IACD,IAAMuB,GAAe,IAC3B,IAEI,CAAEH,MAjCKM,MAAOb,EAAOG,KAC1BQ,EAAS,MACTC,GAAa,GAEb,IAEE,MAAME,QAAY/C,EAAYgD,2BAA2Bf,EAAOG,GAEhEtC,EACGmD,WAAW,SACXC,IAAIH,EAAInC,KAAKuC,KACbC,OAAO,CAAEC,QAAQ,IAGpBnC,EAAS,CAAEP,KAAM,QAASE,QAASkC,EAAInC,OAElC8B,IACHG,GAAa,GACbD,EAAS,OAEX,MAAOU,GACP,IAAKZ,EAAa,CAChB,MAAMa,EAAUC,KAAKC,MAAMH,EAAIC,SAC/BX,EAASW,EAAQjB,MAAMiB,SACvBV,GAAa,MASHN,YAAWD,UDlCSG,GAOpC,OACEiB,eAAA,QAAMC,UAAU,YAAYC,SAN9B,SAAsBC,GACpBA,EAAEC,iBACFtB,EAAMP,EAAOG,IAIsCnB,SAAA,CACjDQ,cAAA,MAAAR,SAAI,UACJyC,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,WACNQ,cAAA,SACEsC,UAAQ,EACRpD,KAAK,QACLqD,SAAWH,GAAM3B,EAAS2B,EAAEI,OAAOtC,OACnCA,MAAOM,OAGXyB,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,cACNQ,cAAA,SACEsC,UAAQ,EACRpD,KAAK,WACLqD,SAAWH,GAAMxB,EAAYwB,EAAEI,OAAOtC,OACtCA,MAAOS,QAGTG,GAAad,cAAA,UAAQkC,UAAU,MAAK1C,SAAC,UACtCsB,GACCd,cAAA,UAAQkC,UAAU,MAAMO,UAAQ,EAAAjD,SAAC,eAIlCqB,GAASb,cAAA,OAAKkC,UAAU,QAAO1C,SAAEqB,Q,ME0CzB6B,MAjFAA,KACb,MAAOlC,EAAOC,GAAYC,mBAAS,KAC5BC,EAAUC,GAAeF,mBAAS,KAClCiC,EAAaC,GAAkBlC,mBAAS,KACxCmC,EAAWC,GAAgBpC,mBAAS,OACpCqC,EAAgBC,GAAqBtC,mBAAS,OAE/C,OAAEuC,EAAM,UAAEnC,EAAS,MAAED,GCJJqC,MACvB,MAAOjC,EAAaC,GAAkBR,oBAAS,IACxCG,EAAOM,GAAYT,mBAAS,OAC5BI,EAAWM,GAAgBV,oBAAS,IACrC,SAAEjB,GAAaU,IAgDrB,OAJAR,qBAAU,IACD,IAAMuB,GAAe,IAC3B,IAEI,CAAE+B,OA9CM5B,MAAOb,EAAOG,EAAUgC,EAAaE,KAClD1B,EAAS,MACTC,GAAa,GAEb,IAEE,MAAME,QAAY/C,EAAY4E,+BAC5B3C,EACAG,GAGF,IAAKW,EACH,MAAM,IAAIhB,MAAM,6BAGlB,MAAM8C,EAAa,cAAc9B,EAAInC,KAAKuC,OAAOmB,EAAUQ,OACrDC,QAAY7E,EAAe8E,IAAIH,GAAYI,IAAIX,GAC/CY,QAAeH,EAAIC,IAAIG,uBAGvBpC,EAAInC,KAAKwE,cAAc,CAAEhB,cAAaiB,SAAUH,UAEhDpF,EACHmD,WAAW,SACXC,IAAIH,EAAInC,KAAKuC,KACbmC,IAAI,CAAEjC,QAAQ,EAAMe,cAAaiB,SAAUH,IAG9ChE,EAAS,CAAEP,KAAM,QAASE,QAASkC,EAAInC,OAElC8B,IACHG,GAAa,GACbD,EAAS,OAEX,MAAOU,GACFZ,IACHE,EAASU,EAAIC,SACbV,GAAa,MASFP,QAAOC,cDhDaoC,GA4BrC,OACEjB,eAAA,QAAMC,UAAU,YAAYC,SA3B9B,SAAsBC,GACpBA,EAAEC,iBACFY,EAAOzC,EAAOG,EAAUgC,EAAaE,IAyBcrD,SAAA,CACjDQ,cAAA,MAAAR,SAAI,YACJyC,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,WACNQ,cAAA,SACEsC,UAAQ,EACRpD,KAAK,QACLqD,SAAWH,GAAM3B,EAAS2B,EAAEI,OAAOtC,OACnCA,MAAOM,OAGXyB,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,cACNQ,cAAA,SACEsC,UAAQ,EACRpD,KAAK,WACLqD,SAAWH,GAAMxB,EAAYwB,EAAEI,OAAOtC,OACtCA,MAAOS,OAGXsB,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,kBACNQ,cAAA,SACEsC,UAAQ,EACRpD,KAAK,OACLqD,SAAWH,GAAMQ,EAAeR,EAAEI,OAAOtC,OACzCA,MAAOyC,OAGXV,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,uBACNQ,cAAA,SAAOsC,UAAQ,EAACpD,KAAK,OAAOqD,SArDlC,SAA0BH,GACxBU,EAAa,MACb,IAAIgB,EAAW1B,EAAEI,OAAOuB,MAAM,GAEzBD,EAIAA,EAAS5E,KAAK8E,SAAS,SAIxBF,EAASG,KAAO,IAClBjB,EAAkB,6CAIpBA,EAAkB,MAClBF,EAAagB,IATXd,EAAkB,kCAJlBA,EAAkB,2BAiDfD,GAAkB/C,cAAA,OAAKkC,UAAU,QAAO1C,SAAEuD,QAE3CjC,GAAad,cAAA,UAAQkC,UAAU,MAAK1C,SAAC,YACtCsB,GACCd,cAAA,UAAQkC,UAAU,MAAMO,UAAQ,EAAAjD,SAAC,eAIlCqB,GAASb,cAAA,OAAKkC,UAAU,QAAO1C,SAAEqB,QE9EjC,MAAMqD,EAAgBA,CAAC1C,EAAY2C,EAAQC,KAChD,MAAOC,EAAWC,GAAgB5D,mBAAS,OACpCG,EAAOM,GAAYT,mBAAS,MAI7B6D,EAAQC,iBAAOL,GAAQM,QACvBC,EAAUF,iBAAOJ,GAAUK,QA+BjC,OA7BA9E,qBAAU,KACR,IAAI4D,EAAMlF,EAAiBmD,WAAWA,GAElC+C,IACFhB,EAAMA,EAAIoB,SAASJ,IAEjBG,IACFnB,EAAMA,EAAImB,WAAWA,IAGvB,MAAME,EAAcrB,EAAIsB,YAAWC,IACjC,IAAIC,EAAU,GACdD,EAASE,KAAKC,SAAQxD,IACpBsD,EAAQG,KAAK,IAAIzD,EAAI0D,OAAQC,GAAI3D,EAAI2D,QAIvCd,EAAaS,GACb5D,EAAS,SACRN,IACDf,QAAQC,IAAIc,GACZM,EAAS,+BAIX,MAAO,IAAMyD,MAEZ,CAACpD,EAAY+C,EAAOG,IAEhB,CAAEL,YAAWxD,U,MC/BPwE,MARA9F,IAAc,IAAb,IAAE+F,GAAK/F,EACrB,OACES,cAAA,OAAKkC,UAAU,SAAQ1C,SACrBQ,cAAA,OAAKsF,IAAKA,EAAKC,IAAI,mB,MCwBVC,MAvBKjG,IAAmB,IAAlB,SAAEkG,GAAUlG,EAC/B,OACE0C,eAAA,OAAKC,UAAU,eAAc1C,SAAA,CACN,IAApBiG,EAASC,QAAgB1F,cAAA,KAAAR,SAAG,gBAC5BiG,EAASE,KAAKC,GACb3D,eAAC4D,IAAI,CAACC,GAAI,aAAaF,EAAQR,KAAK5F,SAAA,CAClCQ,cAAA,MAAAR,SAAKoG,EAAQvC,OACbpB,eAAA,KAAAzC,SAAA,CAAG,UAAQoG,EAAQG,QAAQC,SAASC,kBACpCjG,cAAA,OAAKkC,UAAU,cAAa1C,SAC1BQ,cAAA,MAAAR,SACGoG,EAAQM,kBAAkBP,KAAKxG,GAC9Ba,cAAA,MAAAR,SACEQ,cAACqF,EAAM,CAACC,IAAKnG,EAAKyE,YADXzE,EAAKyE,kBANoBgC,EAAQR,UCT1D,MAAMe,EAAa,CACjB,MACA,OACA,cACA,SACA,YACA,SAsBaC,MAnBO7G,IAAsC,IAArC,cAAE8G,EAAa,aAAEC,GAAc/G,EACpD,OACES,cAAA,OAAKkC,UAAU,iBAAgB1C,SAC7ByC,eAAA,OAAAzC,SAAA,CACEQ,cAAA,KAAAR,SAAG,eACF2G,EAAWR,KAAKY,GACfvG,cAAA,UAEEwG,QAASA,IAAMF,EAAaC,GAC5BrE,UAAWmE,IAAkBE,EAAS,SAAW,GAAG/G,SAEnD+G,GAJIA,W,MCsCFE,MA9CGA,KAChB,MAAM,UAAEpC,EAAS,MAAExD,GAAUqD,EAAc,aACpCmC,EAAeK,GAAoBhG,mBAAS,QAC7C,KAAEvB,GAASgB,IAMjB,MAAMsF,EAAoB,OAATpB,QAAS,IAATA,OAAS,EAATA,EAAWkC,QAAQ9E,IAAS,IAADkF,EAC1C,OAAQN,GACN,IAAK,MACH,OAAO,EACT,IAAK,OACH,IAAIO,GAAe,EAMnB,OALqB,QAArBD,EAAAlF,EAAIyE,yBAAiB,IAAAS,GAArBA,EAAuB1B,SAAS4B,IAC1B1H,EAAKuC,MAAQmF,EAAEzB,KACjBwB,GAAe,MAGZA,EACT,IAAK,cACL,IAAK,SACL,IAAK,QACL,IAAK,YACH,OAAOnF,EAAIqF,WAAaT,EAC1B,QACE,OAAO,MAIb,OACEpE,eAAA,OAAAzC,SAAA,CACEQ,cAAA,MAAIkC,UAAU,aAAY1C,SAAC,cAC1BqB,GAASb,cAAA,KAAGkC,UAAU,QAAO1C,SAAEqB,IAC/BwD,GACCrE,cAACoG,EAAa,CACZC,cAAeA,EACfC,aAjCR,SAAsBC,GACpBG,EAAiBH,MAmCdd,GAAYzF,cAACwF,EAAW,CAACC,SAAUA,QChD1C,IAAIsB,EAAe,CACjBC,SAAU,KACVlG,WAAW,EACXD,MAAO,KACPoG,QAAS,MAGX,MAAMC,EAAmBA,CAAClI,EAAOC,KAC/B,OAAQA,EAAOC,MACb,IAAK,aACH,MAAO,CAAE4B,WAAW,EAAMkG,SAAU,KAAMC,SAAS,EAAOpG,MAAO,MACnE,IAAK,iBACH,MAAO,CACLC,WAAW,EACXkG,SAAU/H,EAAOG,QACjB6H,SAAS,EACTpG,MAAO,MAEX,IAAK,mBACH,MAAO,CAAEC,WAAW,EAAOkG,SAAU,KAAMC,SAAS,EAAMpG,MAAO,MACnE,IAAK,QACH,MAAO,CACLC,WAAW,EACXkG,SAAU,KACVC,SAAS,EACTpG,MAAO5B,EAAOG,SAElB,IAAK,mBACH,MAAO,CACL0B,WAAW,EACXkG,SAAU/H,EAAOG,QACjB6H,SAAS,EACTpG,MAAO,MAEX,QACE,OAAO7B,IAIAmI,EAAgB3F,IAC3B,MAAO4F,EAAU3H,GAAYC,qBAAWwH,EAAkBH,IACnD9F,EAAaC,GAAkBR,oBAAS,GAGzC6C,EAAMlF,EAAiBmD,WAAWA,GAGlC6F,EAA0BpI,IACzBgC,GACHxB,EAASR,IAgDb,OAJAU,qBAAU,IACD,IAAMuB,GAAe,IAC3B,IAEI,CAAEoG,YA3CWjG,UAClB5B,EAAS,CAAEP,KAAM,eAEjB,IACE,MAAMqI,EAAY5I,EAAU6I,SAAS,IAAIC,MACnCC,QAAsBnE,EAAIoE,IAAI,IAAKlG,EAAK8F,cAC9CF,EAAuB,CAAEnI,KAAM,iBAAkBE,QAASsI,IAC1D,MAAO7F,GACPwF,EAAuB,CAAEnI,KAAM,QAASE,QAASyC,EAAIC,YAmCnC8F,eA9BCvG,UACrB5B,EAAS,CAAEP,KAAM,eAEjB,UACQqE,EAAI9B,IAAI2D,GAAIyC,SAClBR,EAAuB,CAAEnI,KAAM,qBAC/B,MAAO2C,GACPwF,EAAuB,CAAEnI,KAAM,QAASE,QAAS,uBAuBfgI,WAAUU,eAnBzBzG,MAAO+D,EAAI2C,KAChCtI,EAAS,CAAEP,KAAM,eAEjB,IACE,MAAM8I,QAAwBzE,EAAI9B,IAAI2D,GAAIzD,OAAOoG,GAKjD,OAJAV,EAAuB,CACrBnI,KAAM,mBACNE,QAAS4I,IAEJA,EACP,MAAOnG,GACPwF,EAAuB,CAAEnI,KAAM,QAASE,QAASyC,EAAIC,cCvD5CmG,MAhCQ1I,IAAkB,IAAD2I,EAAA,IAAhB,QAAEtC,GAASrG,EACjC,MAAM,eAAEqI,GAAmBT,EAAa,aAClC,KAAEhI,GAASgB,IACXgI,EAAUC,cAOhB,OACEnG,eAAA,OAAKC,UAAU,kBAAiB1C,SAAA,CAC9BQ,cAAA,MAAIkC,UAAU,cAAa1C,SAAEoG,EAAQvC,OACrCpB,eAAA,KAAGC,UAAU,WAAU1C,SAAA,CAAC,kBACNoG,EAAQG,QAAQC,SAASC,kBAE3CjG,cAAA,KAAGkC,UAAU,UAAS1C,SAAEoG,EAAQyC,UAChCrI,cAAA,MAAAR,SAAI,6BACsB,QADO0I,EAChCtC,EAAQM,yBAAiB,IAAAgC,OAAA,EAAzBA,EAA2BvC,KAAKxG,GAC/Ba,cAAA,OAAAR,SACEQ,cAACqF,EAAM,CAACC,IAAKnG,EAAKyE,YADVzE,EAAKiG,MAIhBjG,EAAKuC,MAAQkE,EAAQ0C,UAAUlD,IAC9BpF,cAAA,UAAQkC,UAAU,MAAMsE,QAnB9B,WACEoB,EAAehC,EAAQR,IACvB+C,EAAQjD,KAAK,MAiBoC1F,SAAC,0B,QC4CvC+I,MAlEShJ,IAAkB,IAADiJ,EAAA,IAAhB,QAAE5C,GAASrG,EAClC,MAAOkJ,EAAYC,GAAiBhI,mBAAS,KACvC,KAAEvB,GAASgB,KACX,eAAE2H,EAAc,SAAEV,GAAaD,EAAa,YAsBlD,OACElF,eAAA,OAAKC,UAAU,mBAAkB1C,SAAA,CAC/BQ,cAAA,MAAAR,SAAI,qBAEJQ,cAAA,MAAAR,SACGoG,EAAQ+C,SAASjD,OAAS,IACT,QADU8C,EAC1B5C,EAAQ+C,gBAAQ,IAAAH,OAAA,EAAhBA,EAAkB7C,KAAKiD,GACrB3G,eAAA,MAAAzC,SAAA,CACEyC,eAAA,OAAKC,UAAU,iBAAgB1C,SAAA,CAC7BQ,cAACqF,EAAM,CAACC,IAAKsD,EAAQhF,WACrB5D,cAAA,KAAAR,SAAIoJ,EAAQjG,iBAEd3C,cAAA,OAAKkC,UAAU,eAAc1C,SAC3BQ,cAAA,KAAAR,SACGqJ,YAAoBD,EAAQrB,UAAUvB,SAAU,CAC/C8C,WAAW,QAIjB9I,cAAA,OAAKkC,UAAU,kBAAiB1C,SAC9BQ,cAAA,KAAAR,SAAIoJ,EAAQG,cAbPH,EAAQxD,SAmBvBnD,eAAA,QAAMC,UAAU,cAAcC,SA9ClCd,eAA4Be,GAC1BA,EAAEC,iBAEF,MAAM2G,EAAe,CACnBrG,YAAaxD,EAAKwD,YAClBiB,SAAUzE,EAAKyE,SACfmF,QAASN,EACTlB,UAAW5I,EAAU6I,SAAS,IAAIC,MAClCrC,GAAI6D,KAAKC,gBAGLpB,EAAelC,EAAQR,GAAI,CAC/BuD,SAAU,IAAI/C,EAAQ+C,SAAUK,KAG7B5B,EAASvG,OACZ6H,EAAc,KA8BuClJ,SAAA,CACnDyC,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,qBACNQ,cAAA,YACEsC,UAAQ,EACRC,SAAWH,GAAMsG,EAActG,EAAEI,OAAOtC,OACxCA,MAAOuI,OAGXzI,cAAA,UAAQkC,UAAU,MAAK1C,SAAC,uB,MCtCjB2J,MApBCA,KACd,MAAM,GAAE/D,GAAOgE,eACT,MAAEvI,EAAK,SAAEmG,GCRUqC,EAAC7H,EAAY4D,KACtC,MAAO4B,EAAUsC,GAAe5I,mBAAS,OAClCG,EAAOM,GAAYT,mBAAS,MAsBnC,OApBAf,qBAAU,KACR,MACMC,EADMvB,EAAiBmD,WAAWA,GAAYC,IAAI2D,GACtCP,YACfC,IACKA,EAASK,QACXmE,EAAY,IAAKxE,EAASK,OAAQC,GAAIN,EAASM,KAC/CjE,EAAS,OAETA,EAAS,8BAGZU,IACC/B,QAAQC,IAAI8B,EAAIC,SAChBX,EAAS,6BAIb,MAAO,IAAMvB,MACZ,CAAC4B,EAAY4D,IAET,CAAE4B,WAAUnG,UDhBSwI,CAAY,WAAYjE,GAEpD,OAAIvE,EACKb,cAAA,OAAKkC,UAAU,QAAO1C,SAAEqB,IAG5BmG,EAKH/E,eAAA,OAAKC,UAAU,kBAAiB1C,SAAA,CAC9BQ,cAACiI,EAAc,CAACrC,QAASoB,IACzBhH,cAACuI,EAAe,CAAC3C,QAASoB,OANrBhH,cAAA,OAAAR,SAAK,gBElBD,UAA0B,mC,MCgD1B+J,MAxCAA,KACb,MAAM,OAAEC,EAAM,UAAE1I,GCLO2I,MACvB,MAAOxI,EAAaC,GAAkBR,oBAAS,IACxCG,EAAOM,GAAYT,mBAAS,OAC5BI,EAAWM,GAAgBV,oBAAS,IACrC,SAAEjB,EAAQ,KAAEN,GAASgB,IAoC3B,OAJAR,qBAAU,IACD,IAAMuB,GAAe,IAC3B,IAEI,CAAEsI,OAlCMnI,UACbF,EAAS,MACTC,GAAa,GAEb,IACE,MAAM,IAAEM,GAAQvC,QACVd,EACHmD,WAAW,SACXC,IAAIC,GACJC,OAAO,CAAEC,QAAQ,UAGdrD,EAAYmL,UAGlBjK,EAAS,CAAEP,KAAM,WAGZ+B,IACHG,GAAa,GACbD,EAAS,OAEX,MAAOU,GACFZ,IACHE,EAASU,EAAIC,SACbV,GAAa,MASFP,QAAOC,cDnCM2I,IACxB,KAAEtK,GAASgB,IAEjB,OACEH,cAAA,OAAKkC,UAAU,SAAQ1C,SACrByC,eAAA,MAAAzC,SAAA,CACEyC,eAAA,MAAIC,UAAU,OAAM1C,SAAA,CAClBQ,cAAA,OAAKsF,IAAKqE,EAAQpE,IAAI,SACtBvF,cAAA,QAAAR,SAAM,iBAENL,GACA8C,eAAA2H,WAAA,CAAApK,SAAA,CACEQ,cAAA,MAAAR,SACEQ,cAAC6F,IAAI,CAACC,GAAG,SAAQtG,SAAC,YAEpBQ,cAAA,MAAAR,SACEQ,cAAC6F,IAAI,CAACC,GAAG,UAAStG,SAAC,gBAIxBL,GACC8C,eAAA,MAAAzC,SAAA,EACIsB,GACAd,cAAA,UAAQkC,UAAU,MAAMsE,QAASgD,EAAOhK,SAAC,WAI1CsB,GACCd,cAAA,UAAQkC,UAAU,MAAMO,UAAQ,EAAAjD,SAAC,4BErChC,G,MAAA,IAA0B,4CCA1B,MAA0B,qCCyC1BqK,MA/BCA,KACd,MAAM,KAAE1K,GAASgB,IAEjB,OACEH,cAAA,OAAKkC,UAAU,UAAS1C,SACtByC,eAAA,OAAKC,UAAU,mBAAkB1C,SAAA,CAC/ByC,eAAA,OAAKC,UAAU,OAAM1C,SAAA,CACnBQ,cAACqF,EAAM,CAACC,IAAKnG,EAAKyE,WAClB3B,eAAA,KAAAzC,SAAA,CAAG,OAAKL,EAAKwD,kBAEf3C,cAAA,OAAKkC,UAAU,QAAO1C,SACpByC,eAAA,MAAAzC,SAAA,CACEQ,cAAA,MAAAR,SACEyC,eAAC6H,IAAO,CAAChE,GAAG,IAAGtG,SAAA,CACbQ,cAAA,OAAKsF,IAAKyE,EAAexE,IAAI,mBAC7BvF,cAAA,QAAAR,SAAM,mBAGVQ,cAAA,MAAAR,SACEyC,eAAC6H,IAAO,CAAChE,GAAG,UAAStG,SAAA,CACnBQ,cAAA,OAAKsF,IAAK0E,EAASzE,IAAI,qBACvBvF,cAAA,QAAAR,SAAM,gC,cCpBtB,MAAMyK,EAAa,CACjB,CAAE/J,MAAO,cAAegK,MAAO,eAC/B,CAAEhK,MAAO,SAAUgK,MAAO,UAC1B,CAAEhK,MAAO,QAASgK,MAAO,SACzB,CAAEhK,MAAO,YAAagK,MAAO,cA4HhBC,MAzHAA,KACb,MAAMhC,EAAUC,eACV,UAAE/D,EAAS,OAAE+F,GAAWlG,EAAc,UACtC,KAAE/E,GAASgB,KACX,YAAEmH,EAAW,SAAEF,GAAaD,EAAa,aAExC9D,EAAMgH,GAAW3J,mBAAS,KAC1B2H,EAASiC,GAAc5J,mBAAS,KAChCqF,EAASwE,GAAc7J,mBAAS,KAChCoG,EAAU0D,GAAe9J,mBAAS,KAClC+J,EAAeC,GAAoBhK,mBAAS,KAC5CiK,EAAOC,GAAYlK,mBAAS,KAC5BmK,EAAWC,GAAgBpK,mBAAS,MAwD3C,OAtDAf,qBAAU,KACR,GAAI0E,EAAW,CACb,MAAM0G,EAAU1G,EAAUsB,KAAKxG,IAAI,CACjC+K,MAAO/K,EAAKwD,YACZzC,MAAOf,EACPiG,GAAIjG,EAAKiG,OAEXwF,EAASG,MAEV,CAAC1G,IA8CFpC,eAAA,OAAKC,UAAU,cAAa1C,SAAA,CAC1BQ,cAAA,MAAIkC,UAAU,aAAY1C,SAAC,yBAC3ByC,eAAA,QAAME,SA9CVd,eAA4Be,GAI1B,GAHAA,EAAEC,iBACFyI,EAAa,OAERhE,EAEH,YADAgE,EAAa,oCAGf,IAAKL,EAAc/E,OAEjB,YADAoF,EAAa,gDAIf,MAAMxC,EAAY,CAChB3F,YAAaxD,EAAKwD,YAClBiB,SAAUzE,EAAKyE,SACfwB,GAAIjG,EAAKuC,KAGLwE,EAAoBuE,EAAc9E,KAAKxG,IAAI,CAC/CwD,YAAaxD,EAAKe,MAAMyC,YACxBiB,SAAUzE,EAAKe,MAAM0D,SACrBwB,GAAIjG,EAAKe,MAAMkF,OAGXQ,EAAU,CACdvC,OACAgF,UACAvB,SAAUA,EAAS5G,MACnB6F,QAASpH,EAAU6I,SAAS,IAAIC,KAAK1B,IACrC4C,SAAU,GACVL,YACApC,qBAGFpG,QAAQC,IAAI6F,SAEN0B,EAAY1B,GACbwB,EAASvG,OACZsH,EAAQjD,KAAK,MAOgB1F,SAAA,CAC3ByC,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,kBACNQ,cAAA,SACEd,KAAK,OACLqD,SAAWH,GAAMiI,EAAQjI,EAAEI,OAAOtC,OAClCA,MAAOmD,EACPf,UAAQ,OAGZL,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,aACNQ,cAAA,YACEuC,SAAWH,GAAMkI,EAAWlI,EAAEI,OAAOtC,OACrCA,MAAOmI,EACP/F,UAAQ,OAGZL,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,kBACNQ,cAAA,SACEd,KAAK,OACLqD,SAAWH,GAAMmI,EAAWnI,EAAEI,OAAOtC,OACrCA,MAAO6F,EACPzD,UAAQ,OAGZL,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,sBACNQ,cAACgL,IAAM,CACLD,QAASd,EACT1H,SAAW0I,GAAWT,EAAYS,QAGtChJ,eAAA,SAAAzC,SAAA,CACEQ,cAAA,QAAAR,SAAM,eACNQ,cAACgL,IAAM,CACLD,QAASJ,EACTpI,SAAWwI,GAAYL,EAAiBK,GACxCG,SAAO,OAGXlL,cAAA,UAAQkC,UAAU,MAAK1C,SAAC,gBAEvBqL,GAAa7K,cAAA,KAAGkC,UAAU,QAAO1C,SAAEqL,W,MC5G7BM,MAnBKA,KAClB,MAAM,MAAEtK,EAAK,UAAEwD,GAAcH,EAAc,SAE3C,OACEjC,eAAA,OAAKC,UAAU,YAAW1C,SAAA,CACxBQ,cAAA,MAAAR,SAAI,cACHqB,GAASb,cAAA,OAAKkC,UAAU,QAAO1C,SAAEqB,IACjCwD,GACCA,EAAUsB,KAAKxG,GACb8C,eAAA,OAAmBC,UAAU,iBAAgB1C,SAAA,CAC1CL,EAAKyC,QAAU5B,cAAA,QAAMkC,UAAU,gBAChClC,cAAA,QAAAR,SAAOL,EAAKwD,cACZ3C,cAACqF,EAAM,CAACC,IAAKnG,EAAKyE,aAHVzE,EAAKiG,U,MCwCVgG,MAxCf,WACE,MAAM,KAAEjM,EAAI,YAAEE,GAAgBc,IAE9B,OACEH,cAAA,OAAKkC,UAAU,MAAK1C,SACjBH,GACC4C,eAACoJ,IAAa,CAAA7L,SAAA,CACXL,GAAQa,cAAC6J,EAAO,IACjB5H,eAAA,OAAKC,UAAU,YAAW1C,SAAA,CACxBQ,cAACuJ,EAAM,IACPtH,eAACqJ,IAAM,CAAA9L,SAAA,CACLyC,eAACsJ,IAAK,CAACC,OAAK,EAACC,KAAK,IAAGjM,SAAA,CAClBL,GAAQa,cAACyG,EAAS,KACjBtH,GAAQa,cAAC0L,IAAQ,CAAC5F,GAAG,cAEzB7D,eAACsJ,IAAK,CAACE,KAAK,UAASjM,SAAA,CAClBL,GAAQa,cAACmK,EAAM,KACdhL,GAAQa,cAAC0L,IAAQ,CAAC5F,GAAG,cAEzB7D,eAACsJ,IAAK,CAACE,KAAK,gBAAejM,SAAA,CACxBL,GAAQa,cAACmJ,EAAO,KACfhK,GAAQa,cAAC0L,IAAQ,CAAC5F,GAAG,cAEzB7D,eAACsJ,IAAK,CAACE,KAAK,SAAQjM,SAAA,CACjBL,GAAQa,cAAC0L,IAAQ,CAAC5F,GAAG,OACpB3G,GAAQa,cAACO,EAAK,OAElB0B,eAACsJ,IAAK,CAACE,KAAK,UAASjM,SAAA,CAClBL,GAAQa,cAAC0L,IAAQ,CAAC5F,GAAG,OACpB3G,GAAQa,cAAC0C,EAAM,aAItBvD,GAAQa,cAACmL,EAAW,UC1C/BQ,IAASC,OACP5L,cAAC6L,IAAMC,WAAU,CAAAtM,SACfQ,cAACV,EAAmB,CAAAE,SAClBQ,cAACoL,EAAG,QAGRpE,SAAS+E,eAAe,W","file":"static/js/main.35d91786.chunk.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyAYUPJPS1S3OVenKyc6OjKw39o5lCMj-lM',\r\n  authDomain: 'dojo-2f5e6.firebaseapp.com',\r\n  projectId: 'dojo-2f5e6',\r\n  storageBucket: 'dojo-2f5e6.appspot.com',\r\n  messagingSenderId: '567484129299',\r\n  appId: '1:567484129299:web:ce235c723e0c292e049fe6',\r\n}\r\n\r\nfirebase.initializeApp(firebaseConfig)\r\n\r\nconst projectFirestore = firebase.firestore()\r\nconst projectAuth = firebase.auth()\r\nconst projectStorage = firebase.storage()\r\n\r\nconst timestamp = firebase.firestore.Timestamp\r\n\r\nexport { projectFirestore, projectAuth, projectStorage, timestamp }\r\n","import { createContext, useReducer, useEffect } from 'react'\nimport { projectAuth } from '../firebase/config'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { ...state, user: action.payload }\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { user: action.payload, authIsReady: true }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged(user => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user })\n      unsub()\n    })\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}","import { AuthContext } from \"../context/AuthContext\"\nimport { useContext } from \"react\"\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext)\n\n  if(!context) {\n    throw Error('useAuthContext must be used inside an AuthContextProvider')\n  }\n\n  return context\n}","import { useState } from 'react'\r\n\r\nimport { useLogin } from '../../hooks/useLogin'\r\n\r\nimport './Login.css'\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const { error, isPending, login } = useLogin()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    login(email, password)\r\n  }\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2>Login</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          required\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input\r\n          required\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n      </label>\r\n      {!isPending && <button className=\"btn\">Login</button>}\r\n      {isPending && (\r\n        <button className=\"btn\" disabled>\r\n          loading...\r\n        </button>\r\n      )}\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n\n  const { dispatch } = useAuthContext()\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // login\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n\n      projectFirestore\n        .collection('users')\n        .doc(res.user.uid)\n        .update({ online: true })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        const message = JSON.parse(err.message)\n        setError(message.error.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { login, isPending, error }\n}\n","import { useState } from 'react'\r\n\r\nimport './Signup.css'\r\nimport { useSignup } from '../../hooks/useSignup'\r\n\r\nconst Signup = () => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [displayName, setDisplayName] = useState('')\r\n  const [thumbnail, setThumbnail] = useState(null)\r\n  const [thumbnailError, setThumbnailError] = useState(null)\r\n\r\n  const { signup, isPending, error } = useSignup()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    signup(email, password, displayName, thumbnail)\r\n  }\r\n\r\n  function handleFileChange(e) {\r\n    setThumbnail(null)\r\n    let selected = e.target.files[0]\r\n\r\n    if (!selected) {\r\n      setThumbnailError('Please select a file')\r\n      return\r\n    }\r\n    if (!selected.type.includes('image')) {\r\n      setThumbnailError('Selected file must be an image')\r\n      return\r\n    }\r\n    if (selected.size > 100000) {\r\n      setThumbnailError('Image files size must be less than 100kb')\r\n      return\r\n    }\r\n\r\n    setThumbnailError(null)\r\n    setThumbnail(selected)\r\n  }\r\n\r\n  return (\r\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n      <h2>Sign up</h2>\r\n      <label>\r\n        <span>email:</span>\r\n        <input\r\n          required\r\n          type=\"email\"\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          value={email}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>password:</span>\r\n        <input\r\n          required\r\n          type=\"password\"\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          value={password}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>display name:</span>\r\n        <input\r\n          required\r\n          type=\"rext\"\r\n          onChange={(e) => setDisplayName(e.target.value)}\r\n          value={displayName}\r\n        />\r\n      </label>\r\n      <label>\r\n        <span>profile thumbnail:</span>\r\n        <input required type=\"file\" onChange={handleFileChange} />\r\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\r\n      </label>\r\n      {!isPending && <button className=\"btn\">Sign up</button>}\r\n      {isPending && (\r\n        <button className=\"btn\" disabled>\r\n          loading...\r\n        </button>\r\n      )}\r\n      {error && <div className=\"error\">{error}</div>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Signup\r\n","import { useState, useEffect } from 'react'\nimport {\n  projectAuth,\n  projectStorage,\n  projectFirestore,\n} from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password,\n      )\n\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgURL = await img.ref.getDownloadURL()\n\n      // add display name to user\n      await res.user.updateProfile({ displayName, photoURL: imgURL })\n\n      await projectFirestore\n        .collection('users')\n        .doc(res.user.uid)\n        .set({ online: true, displayName, photoURL: imgURL })\n\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { signup, error, isPending }\n}\n","import { useEffect, useState, useRef } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null)\n  const [error, setError] = useState(null)\n\n  // if we don't use a ref --> infinite loop in useEffect\n  // _query is an array and is \"different\" on every function call\n  const query = useRef(_query).current\n  const orderBy = useRef(_orderBy).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection)\n\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy)\n    }\n\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      let results = []\n      snapshot.docs.forEach(doc => {\n        results.push({...doc.data(), id: doc.id})\n      });\n      \n      // update state\n      setDocuments(results)\n      setError(null)\n    }, error => {\n      console.log(error)\n      setError('could not fetch the data')\n    })\n\n    // unsubscribe on unmount\n    return () => unsubscribe()\n\n  }, [collection, query, orderBy])\n\n  return { documents, error }\n}","import './Avatar.css'\r\n\r\nconst Avatar = ({ src }) => {\r\n  return (\r\n    <div className=\"avatar\">\r\n      <img src={src} alt=\"user avatar\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Avatar\r\n","import { Link } from 'react-router-dom'\r\n\r\nimport Avatar from './Avatar'\r\n\r\nimport './ProjectList.css'\r\n\r\nconst ProjectList = ({ projects }) => {\r\n  return (\r\n    <div className=\"project-list\">\r\n      {projects.length === 0 && <p>No projects</p>}\r\n      {projects.map((project) => (\r\n        <Link to={`/projects/${project.id}`} key={project.id}>\r\n          <h4>{project.name}</h4>\r\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\r\n          <div className=\"assigned-to\">\r\n            <ul>\r\n              {project.assignedUsersList.map((user) => (\r\n                <li key={user.photoURL}>\r\n                  <Avatar src={user.photoURL} />\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </Link>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProjectList\r\n","import { useState } from 'react'\r\n\r\nconst filterList = [\r\n  'all',\r\n  'mine',\r\n  'development',\r\n  'design',\r\n  'marketing',\r\n  'sales',\r\n]\r\n\r\nconst ProjectFilter = ({ currentFilter, changeFilter }) => {\r\n  return (\r\n    <div className=\"project-filter\">\r\n      <nav>\r\n        <p>Fitler by:</p>\r\n        {filterList.map((filter) => (\r\n          <button\r\n            key={filter}\r\n            onClick={() => changeFilter(filter)}\r\n            className={currentFilter === filter ? 'active' : ''}\r\n          >\r\n            {filter}\r\n          </button>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProjectFilter\r\n","import { useEffect, useState } from 'react'\r\n\r\nimport { useCollection } from '../../hooks/useCollection'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\n\r\nimport ProjectList from '../../components/ProjectList'\r\nimport ProjectFilter from './ProjectFilter'\r\n\r\nimport './Dashboard.css'\r\n\r\nconst Dashboard = () => {\r\n  const { documents, error } = useCollection('projects')\r\n  const [currentFilter, setCurrentFilter] = useState('all')\r\n  const { user } = useAuthContext()\r\n\r\n  function changeFilter(filter) {\r\n    setCurrentFilter(filter)\r\n  }\r\n\r\n  const projects = documents?.filter((doc) => {\r\n    switch (currentFilter) {\r\n      case 'all':\r\n        return true\r\n      case 'mine':\r\n        let assignedToMe = false\r\n        doc.assignedUsersList?.forEach((u) => {\r\n          if (user.uid === u.id) {\r\n            assignedToMe = true\r\n          }\r\n        })\r\n        return assignedToMe\r\n      case 'development':\r\n      case 'design':\r\n      case 'sales':\r\n      case 'marketing':\r\n        return doc.category === currentFilter\r\n      default:\r\n        return true\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"page-title\">Dashboard</h2>\r\n      {error && <p className=\"error\">{error}</p>}\r\n      {documents && (\r\n        <ProjectFilter\r\n          currentFilter={currentFilter}\r\n          changeFilter={changeFilter}\r\n        />\r\n      )}\r\n      {projects && <ProjectList projects={projects} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n","import { useReducer, useEffect, useState } from 'react'\nimport { projectFirestore, timestamp } from '../firebase/config'\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case 'ERROR':\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      }\n    case 'UPDATED_DOCUMENT':\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState)\n  const [isCancelled, setIsCancelled] = useState(false)\n\n  // collection ref\n  const ref = projectFirestore.collection(collection)\n\n  // only dispatch is not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action)\n    }\n  }\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const createdAt = timestamp.fromDate(new Date())\n      const addedDocument = await ref.add({ ...doc, createdAt })\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' })\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'could not delete' })\n    }\n  }\n\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: 'IS_PENDING' })\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({\n        type: 'UPDATED_DOCUMENT',\n        payload: updatedDocument,\n      })\n      return updatedDocument\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { addDocument, deleteDocument, response, updateDocument }\n}\n","import Avatar from '../../components/Avatar'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst ProjectSummary = ({ project }) => {\r\n  const { deleteDocument } = useFirestore('projects')\r\n  const { user } = useAuthContext()\r\n  const history = useHistory()\r\n\r\n  function handleClick() {\r\n    deleteDocument(project.id)\r\n    history.push('/')\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-summary\">\r\n      <h2 className=\"prage-title\">{project.name}</h2>\r\n      <p className=\"due-date\">\r\n        Proyect due by {project.dueDate.toDate().toDateString()}\r\n      </p>\r\n      <p className=\"details\">{project.details}</p>\r\n      <h4>Project is assiggned to:</h4>\r\n      {project.assignedUsersList?.map((user) => (\r\n        <div key={user.id}>\r\n          <Avatar src={user.photoURL} />\r\n        </div>\r\n      ))}\r\n      {user.uid === project.createdBy.id && (\r\n        <button className=\"btn\" onClick={handleClick}>\r\n          Mark as Completed\r\n        </button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProjectSummary\r\n","import { useState } from 'react'\r\nimport { timestamp } from '../../firebase/config'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\nimport Avatar from '../../components/Avatar'\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\r\n\r\nconst ProjectComments = ({ project }) => {\r\n  const [newComment, setNewComment] = useState('')\r\n  const { user } = useAuthContext()\r\n  const { updateDocument, response } = useFirestore('projects')\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n\r\n    const commentToAdd = {\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      content: newComment,\r\n      createdAt: timestamp.fromDate(new Date()),\r\n      id: Math.random(),\r\n    }\r\n\r\n    await updateDocument(project.id, {\r\n      comments: [...project.comments, commentToAdd],\r\n    })\r\n\r\n    if (!response.error) {\r\n      setNewComment('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-comments\">\r\n      <h4>Project Comments</h4>\r\n\r\n      <ul>\r\n        {project.comments.length > 0 &&\r\n          project.comments?.map((comment) => (\r\n            <li key={comment.id}>\r\n              <div className=\"comment-author\">\r\n                <Avatar src={comment.photoURL} />\r\n                <p>{comment.displayName}</p>\r\n              </div>\r\n              <div className=\"comment-date\">\r\n                <p>\r\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\r\n                    addSuffix: true,\r\n                  })}\r\n                </p>\r\n              </div>\r\n              <div className=\"comment-content\">\r\n                <p>{comment.content}</p>\r\n              </div>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n\r\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Add new comment:</span>\r\n          <textarea\r\n            required\r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            value={newComment}\r\n          />\r\n        </label>\r\n        <button className=\"btn\">Add Comment</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProjectComments\r\n","import { useParams } from 'react-router-dom'\r\n\r\nimport { useDocument } from '../../hooks/useDocument'\r\n\r\nimport ProjectSummary from './ProjectSummary'\r\nimport ProjectComments from './ProjectComments'\r\n\r\nimport './Project.css'\r\n\r\nconst Project = () => {\r\n  const { id } = useParams()\r\n  const { error, document } = useDocument('projects', id)\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>\r\n  }\r\n\r\n  if (!document) {\r\n    return <div>Loading...</div>\r\n  }\r\n\r\n  return (\r\n    <div className=\"project-details\">\r\n      <ProjectSummary project={document} />\r\n      <ProjectComments project={document} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Project\r\n","import { useEffect, useState } from 'react'\r\nimport { projectFirestore } from '../firebase/config'\r\n\r\nexport const useDocument = (collection, id) => {\r\n  const [document, setDocument] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const ref = projectFirestore.collection(collection).doc(id)\r\n    const unsub = ref.onSnapshot(\r\n      (snapshot) => {\r\n        if (snapshot.data()) {\r\n          setDocument({ ...snapshot.data(), id: snapshot.id })\r\n          setError(null)\r\n        } else {\r\n          setError('no such document exists')\r\n        }\r\n      },\r\n      (err) => {\r\n        console.log(err.message)\r\n        setError('failed to get document')\r\n      },\r\n    )\r\n\r\n    return () => unsub()\r\n  }, [collection, id])\r\n\r\n  return { document, error }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\r\n\r\nimport { useLogout } from '../hooks/useLogout'\r\nimport { useAuthContext } from '../hooks/useAuthContext'\r\n\r\nimport Temple from '../assets/temple.svg'\r\nimport './Navbar.css'\r\n\r\nconst Navbar = () => {\r\n  const { logout, isPending } = useLogout()\r\n  const { user } = useAuthContext()\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <ul>\r\n        <li className=\"logo\">\r\n          <img src={Temple} alt=\"logo\" />\r\n          <span>The Dojo</span>\r\n        </li>\r\n        {!user && (\r\n          <>\r\n            <li>\r\n              <Link to=\"/login\">Login</Link>\r\n            </li>\r\n            <li>\r\n              <Link to=\"/signup\">Signup</Link>\r\n            </li>\r\n          </>\r\n        )}\r\n        {user && (\r\n          <li>\r\n            {!isPending && (\r\n              <button className=\"btn\" onClick={logout}>\r\n                Logout\r\n              </button>\r\n            )}\r\n            {isPending && (\r\n              <button className=\"btn\" disabled>\r\n                Logging out...\r\n              </button>\r\n            )}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar\r\n","import { useEffect, useState } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false)\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n\n    try {\n      const { uid } = user\n      await projectFirestore\n        .collection('users')\n        .doc(uid)\n        .update({ online: false })\n\n      // sign the user out\n      await projectAuth.signOut()\n\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n\n      // update state\n      if (!isCancelled) {\n        setIsPending(false)\n        setError(null)\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n        setIsPending(false)\n      }\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true)\n  }, [])\n\n  return { logout, error, isPending }\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from 'react-router-dom'\r\n\r\nimport { useAuthContext } from '../hooks/useAuthContext'\r\n\r\nimport Avatar from './Avatar'\r\n\r\nimport './Sidebar.css'\r\nimport DashboardIcon from '../assets/dashboard_icon.svg'\r\nimport AddIcon from '../assets/add_icon.svg'\r\n\r\nconst Sidebar = () => {\r\n  const { user } = useAuthContext()\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"siderbar-content\">\r\n        <div className=\"user\">\r\n          <Avatar src={user.photoURL} />\r\n          <p>Hey {user.displayName}</p>\r\n        </div>\r\n        <nav className=\"links\">\r\n          <ul>\r\n            <li>\r\n              <NavLink to=\"/\">\r\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\r\n                <span>Dashboard</span>\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/create\">\r\n                <img src={AddIcon} alt=\"add project icon\" />\r\n                <span>New Project</span>\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Sidebar\r\n","import { useEffect, useState } from 'react'\r\nimport Select from 'react-select'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport { useCollection } from '../../hooks/useCollection'\r\nimport { timestamp } from '../../firebase/config'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useFirestore } from '../../hooks/useFirestore'\r\n\r\nimport './Create.css'\r\n\r\nconst categories = [\r\n  { value: 'development', label: 'Development' },\r\n  { value: 'design', label: 'Design' },\r\n  { value: 'sales', label: 'Sales' },\r\n  { value: 'marketing', label: 'Marketing' },\r\n]\r\n\r\nconst Create = () => {\r\n  const history = useHistory()\r\n  const { documents, errors } = useCollection('users')\r\n  const { user } = useAuthContext()\r\n  const { addDocument, response } = useFirestore('projects')\r\n\r\n  const [name, setName] = useState('')\r\n  const [details, setDetails] = useState('')\r\n  const [dueDate, setDueDate] = useState('')\r\n  const [category, setCategory] = useState('')\r\n  const [assignedUsers, setAssignedUsers] = useState([])\r\n  const [users, setUsers] = useState([])\r\n  const [formError, setFormError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (documents) {\r\n      const options = documents.map((user) => ({\r\n        label: user.displayName,\r\n        value: user,\r\n        id: user.id,\r\n      }))\r\n      setUsers(options)\r\n    }\r\n  }, [documents])\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault()\r\n    setFormError(null)\r\n\r\n    if (!category) {\r\n      setFormError('Please select a project category')\r\n      return\r\n    }\r\n    if (!assignedUsers.length) {\r\n      setFormError('Please assign the project to at least 1 user')\r\n      return\r\n    }\r\n\r\n    const createdBy = {\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      id: user.uid,\r\n    }\r\n\r\n    const assignedUsersList = assignedUsers.map((user) => ({\r\n      displayName: user.value.displayName,\r\n      photoURL: user.value.photoURL,\r\n      id: user.value.id,\r\n    }))\r\n\r\n    const project = {\r\n      name,\r\n      details,\r\n      category: category.value,\r\n      dueDate: timestamp.fromDate(new Date(dueDate)),\r\n      comments: [],\r\n      createdBy,\r\n      assignedUsersList,\r\n    }\r\n\r\n    console.log(project)\r\n\r\n    await addDocument(project)\r\n    if (!response.error) {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"create-form\">\r\n      <h2 className=\"page-title\">Create a new project</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Project name:</span>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Details:</span>\r\n          <textarea\r\n            onChange={(e) => setDetails(e.target.value)}\r\n            value={details}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Set due date:</span>\r\n          <input\r\n            type=\"date\"\r\n            onChange={(e) => setDueDate(e.target.value)}\r\n            value={dueDate}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Project category:</span>\r\n          <Select\r\n            options={categories}\r\n            onChange={(option) => setCategory(option)}\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Assign to:</span>\r\n          <Select\r\n            options={users}\r\n            onChange={(options) => setAssignedUsers(options)}\r\n            isMulti\r\n          />\r\n        </label>\r\n        <button className=\"btn\">Add project</button>\r\n\r\n        {formError && <p className=\"error\">{formError}</p>}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Create\r\n","import { useCollection } from '../hooks/useCollection'\r\n\r\nimport Avatar from './Avatar'\r\n\r\nimport './OnlineUsers.css'\r\n\r\nconst OnlineUsers = () => {\r\n  const { error, documents } = useCollection('users')\r\n\r\n  return (\r\n    <div className=\"user-list\">\r\n      <h2>All Users</h2>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {documents &&\r\n        documents.map((user) => (\r\n          <div key={user.id} className=\"user-list-item\">\r\n            {user.online && <span className=\"online-user\" />}\r\n            <span>{user.displayName}</span>\r\n            <Avatar src={user.photoURL} />\r\n          </div>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OnlineUsers\r\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom'\n\nimport { useAuthContext } from './hooks/useAuthContext'\n\nimport Login from './pages/login/Login'\nimport Signup from './pages/signup/Signup'\nimport Dashboard from './pages/dashboard/Dashboard'\nimport Project from './pages/project/Project'\nimport Navbar from './components/Navbar'\nimport Sidebar from './components/Sidebar'\nimport Create from './pages/create/Create'\nimport OnlineUsers from './components/OnlineUsers'\n\nimport './App.css'\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext()\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {user && <Dashboard />}\n                {!user && <Redirect to=\"/login\" />}\n              </Route>\n              <Route path=\"/create\">\n                {user && <Create />}\n                {!user && <Redirect to=\"/login\" />}\n              </Route>\n              <Route path=\"/projects/:id\">\n                {user && <Project />}\n                {!user && <Redirect to=\"/login\" />}\n              </Route>\n              <Route path=\"/login\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Login />}\n              </Route>\n              <Route path=\"/signup\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Signup />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}